
<!-- Delete confirmation modal -->
<app-modal-confirmation [showModal]="deleting" (confirm)="deletePost()" (close)="deleting = false;"></app-modal-confirmation>

<div class="card" [style.margin-bottom.rem]="1">
  <div class="card-header">
    <!-- New Badge -->
    <div class="new-badge" *ngIf="isNewPost(post)"
      data-toggle="tooltip" data-placement="top" title="This Post was created less than 5 seconds ago">
      <span class="badge badge-success">New</span>
    </div>

    <!-- Date -->
    <small class="text-muted float-left" [style.margin-top.rem]="0.2">
      {{ post.postDate | timeAgo }}
    </small>

    <!-- Delete Icon -->
    <i class="fa fa-trash-alt icon-button delete-button" (click)="deleting = true;"
      data-toggle="tooltip" data-placement="top" title="Delete this post">
    </i>

    <!-- Edit -->
    <i class="fa fa-edit icon-button edit-button" (click)="startEditPost()"
    data-toggle="tooltip" data-placement="top" title="Edit this post"></i>

  </div>

  <!-- Body -->
  <div class="card-body">
    <textarea #bodyTextArea [disabled]="!editing" autosize minRows="2"
    class="form-control" [ngClass]="{'readonly-textarea': !editing }"
    [(ngModel)]="bodyText"></textarea>

    <!-- Edit buttons -->
    <span *ngIf="editing">
      <button type="button" class="btn btn-primary btn-sm" (click)="onConfirmEdit()">Edit</button>
      <button type="button" class="btn btn-secondary btn-sm" (click)="onCancelEdit()">Cancel</button>
    </span>

  </div>
</div>
